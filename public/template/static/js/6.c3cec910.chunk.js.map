{"version":3,"sources":["components/post/styles.js","components/post/index.js","components/timeline/styles.js","components/timeline/index.js","pages/home/styles.js","pages/home/index.js","api/index.js","components/common/icon/index.js","assets/images/defaultAvatar.png","context/actions/user.js","components/common/header/styles.js","components/common/header/index.js","components/sidebar/styles.js","components/sidebar/index.js"],"names":["Wrapper","styled","div","TopContent","Profile","Avatar","UserInfo","Name","Other","MainContent","Photo","BottomContent","Actions","Status","Likes","ThemeContent","Body","Comments","TotalComment","Comment","Time","Config","Input","input","AddBtn","Post","history","post","useState","liked","setLiked","collected","setCollected","src","avatar","onClick","push","ROUTES","name","username","type","photos","map","photo","isImg","alt","controls","likes","length","desc","format","createdAt","placeholder","Timeline","posts","setPosts","useEffect","a","API","res","sort","p1","p2","Date","getPosts","_id","Container","LeftContent","RightContent","Home","axios","create","baseURL","interceptors","request","use","req","NProgress","start","user","getUserInfo","headers","authorization","token","err","Promise","reject","response","done","data","login","register","upload","getUser","id","get","updateUser","createPost","getSelfPosts","IconFont","createFromIconfontCN","scriptUrl","Icon","props","formData","dispatch","message","LOGIN","payload","replace","logout","LOGOUT","Logo","img","Search","Menus","MenuItem","Header","useSelector","state","useHistory","location","pathname","includes","defaultAvatar","Button","button","Recommend","Title","ProfileList","ProfileItem","ProfileAvatar","Sidebar","useDispatch","className"],"mappings":"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","file":"static/js/6.c3cec910.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport tw from \"twin.macro\";\r\n\r\nexport const Wrapper = styled.div`\r\n  ${tw`sm:rounded sm:border bg-white sm:border-gray-300 sm:mb-6`}\r\n`;\r\nexport const TopContent = styled.div`\r\n  ${tw`h-16 p-4 flex items-center justify-between`}\r\n`;\r\n\r\nexport const Profile = styled.div`\r\n  ${tw`flex items-center`}\r\n`;\r\nexport const Avatar = styled.div`\r\n  ${tw`w-8 h-8 border bg-gray-300 rounded-full\tflex mr-3`}\r\n`;\r\n\r\nexport const UserInfo = styled.div``;\r\n\r\nexport const Name = styled.div`\r\n  ${tw`text-base font-medium\t text-black`}\r\n`;\r\nexport const Other = styled.div`\r\n  ${tw`text-xs\tfont-normal text-gray-600`}\r\n`;\r\n\r\nexport const Icon = styled.div`\r\n  border: 1px solid #000;\r\n`;\r\nexport const MainContent = styled.div`\r\n  ${tw`w-full`}\r\n`;\r\n\r\nexport const Photo = styled.div`\r\n  ${tw`w-full h-60 sm:h-96 `}\r\n  img,video {\r\n    ${tw`w-full h-full object-cover`}\r\n  }\r\n`;\r\n\r\nexport const BottomContent = styled.div``;\r\n\r\nexport const Actions = styled.div`\r\n  ${tw`px-4 flex items-center justify-between`}\r\n  >span {\r\n    ${tw`text-3xl`}\r\n  }\r\n`;\r\nexport const Status = styled.div`\r\n  ${tw`flex items-center h-10 `}\r\n  >span {\r\n    ${tw`text-2xl mr-2`}\r\n  }\r\n`;\r\nexport const Likes = styled.div`\r\n  ${tw`px-4 mb-2 text-sm\t`}\r\n  span {\r\n    ${tw`mr-1 font-medium\t`}\r\n  }\r\n`;\r\nexport const ThemeContent = styled.div`\r\n  ${tw`px-4 pb-2`}\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  ${tw`text-gray-800 text-sm`}\r\n`;\r\nexport const Comments = styled.div``;\r\n\r\nexport const TotalComment = styled.div`\r\n  ${tw`py-2 text-gray-400 text-sm`}\r\n  span {\r\n    ${tw`px-2`}\r\n  }\r\n`;\r\n\r\nexport const Comment = styled.div`\r\n  ${tw`flex justify-between text-xs mb-1 text-gray-800`}\r\n  >div {\r\n    strong {\r\n      ${tw`mr-2 font-medium`}\r\n    }\r\n  }\r\n  > span {\r\n    ${tw`w-3 h-3 bg-gray-200 flex-shrink-0`}\r\n  }\r\n`;\r\n\r\nexport const Time = styled.div`\r\n  ${tw`text-xs text-gray-500`}\r\n`;\r\n\r\nexport const Config = styled.div`\r\n  ${tw`hidden h-14 sm:flex items-center px-4`}\r\n  >span {\r\n    ${tw`text-xl mr-2`}\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  ${tw`text-sm w-full bg-transparent focus:outline-none`}\r\n`;\r\n\r\nexport const AddBtn = styled.div`\r\n  ${tw`flex-shrink-0 ml-auto text-blue-200 text-sm ml-4`}\r\n`;\r\n","import { useState } from \"react\";\r\nimport { Carousel } from \"antd\";\r\nimport { format } from \"timeago.js\";\r\n\r\nimport * as ROUTES from \"../../constants/routes\";\r\nimport Icon from \"../common/icon\";\r\n\r\nimport {\r\n  Wrapper,\r\n  TopContent,\r\n  Profile,\r\n  Avatar,\r\n  UserInfo,\r\n  Name,\r\n  Other,\r\n  MainContent,\r\n  Photo,\r\n  BottomContent,\r\n  Actions,\r\n  Status,\r\n  Likes,\r\n  ThemeContent,\r\n  Body,\r\n  Comments,\r\n  TotalComment,\r\n  Comment,\r\n  Time,\r\n  Config,\r\n  Input,\r\n  AddBtn,\r\n} from \"./styles\";\r\n\r\nconst Post = ({ history, post }) => {\r\n  const PF = \"\"\r\n  const [liked, setLiked] = useState(false);\r\n  const [collected, setCollected] = useState(false);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <TopContent>\r\n        <Profile>\r\n          <Avatar\r\n            src={PF + post.avatar}\r\n            onClick={() => history.push(ROUTES.PROFILE)}\r\n          />\r\n          <UserInfo>\r\n            <Name>{post.name || post.username}</Name>\r\n            <Other>Daejeon, South Korea</Other>\r\n          </UserInfo>\r\n        </Profile>\r\n        <Icon type=\"icon-more\" />\r\n      </TopContent>\r\n      <MainContent>\r\n        <Carousel>\r\n          {post.photos.map((photo) => (\r\n            <Photo key={photo.src}>\r\n              {photo.isImg ? (\r\n                <img src={PF + photo.src} alt=\"\" />\r\n              ) : (\r\n                <video src={PF + photo.src} controls></video>\r\n              )}\r\n            </Photo>\r\n          ))}\r\n        </Carousel>\r\n      </MainContent>\r\n      <BottomContent>\r\n        <Actions>\r\n          <Status>\r\n            <Icon\r\n              type={`icon-heart${liked ? \"-active\" : \"\"}`}\r\n              onClick={() => setLiked(!liked)}\r\n            />\r\n            <Icon type=\"icon-chat\" />\r\n            <Icon type=\"icon-plane\" />\r\n          </Status>\r\n          <Icon\r\n            type={`icon-bookmark${collected ? \"-active\" : \"\"}`}\r\n            onClick={() => setCollected(!collected)}\r\n          />\r\n        </Actions>\r\n        <Likes>\r\n          <span>{post.likes.length}</span>次赞\r\n        </Likes>\r\n        <ThemeContent>\r\n          <Body>{post.desc}</Body>\r\n          <Comments>\r\n            <TotalComment>\r\n              全部<span>0</span>条评论\r\n            </TotalComment>\r\n            <Comment>\r\n              <div>\r\n                <strong>用户a</strong>\r\n                <span>聊天内容内容</span>\r\n              </div>\r\n              <Icon\r\n                type={`icon-heart${liked ? \"-active\" : \"\"}`}\r\n                onClick={() => setLiked(!liked)}\r\n              />\r\n            </Comment>\r\n            <Comment>\r\n              <div>\r\n                <strong>用户b</strong>\r\n                <span>聊天内容内容</span>\r\n              </div>\r\n              <Icon\r\n                type={`icon-heart${liked ? \"-active\" : \"\"}`}\r\n                onClick={() => setLiked(!liked)}\r\n              />\r\n            </Comment>\r\n          </Comments>\r\n          <Time>{format(post.createdAt, \"zh_CN\")}</Time>\r\n        </ThemeContent>\r\n        <Config>\r\n          <Icon type=\"icon-emoji\" />\r\n          <Input placeholder=\"添加评论...\" />\r\n          <AddBtn>发布</AddBtn>\r\n        </Config>\r\n      </BottomContent>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import styled from 'styled-components'\r\n\r\nexport const Wrapper = styled.div``;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as API from \"../../api\";\r\nimport Post from \"../post\";\r\n\r\nimport { Wrapper } from \"./styles\";\r\n\r\nconst Timeline = ({ history }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  useEffect(() => {\r\n    const getPosts = async () => {\r\n      const res = await API.getPosts();\r\n      setPosts(\r\n        res.sort((p1, p2) => new Date(p2.createdAt) - new Date(p1.createdAt))\r\n      );\r\n    };\r\n    getPosts();\r\n  }, []);\r\n  return (\r\n    <Wrapper>\r\n      {posts?.map((post) => (\r\n        <Post key={post._id} post={post} history={history} />\r\n      ))}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Timeline;\r\n","import styled from \"styled-components\";\r\nimport tw from \"twin.macro\";\r\n\r\nexport const Wrapper = styled.div`\r\n  ${tw`h-screen\tw-screen overflow-hidden bg-gray-50`}\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  ${tw`w-full flex md:w-4/5 2xl:max-w-screen-lg mx-auto h-full`}\r\n`;\r\n\r\nexport const LeftContent = styled.div`\r\n  ${tw`flex-1 overflow-y-auto\th-full  pb-32`}\r\n`;\r\n\r\nexport const RightContent = styled.div`\r\n  ${tw`hidden sm:block w-1/3`}\r\n`;\r\n","import React from \"react\";\r\n\r\nimport Header from \"../../components/common/header\";\r\nimport Timeline from \"../../components/timeline\";\r\nimport Sidebar from \"../../components/sidebar\";\r\n\r\nimport { Wrapper, Container, LeftContent, RightContent } from \"./styles\";\r\n\r\nconst Home = ({ history, ...props }) => {\r\n  return (\r\n    <Wrapper>\r\n      <Header />\r\n      <Container>\r\n        <LeftContent>\r\n          <Timeline history={history} />\r\n        </LeftContent>\r\n        <RightContent>\r\n          <Sidebar history={history} />\r\n        </RightContent>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\nimport NProgress from \"nprogress\";\r\nimport \"nprogress/nprogress.css\";\r\n\r\nimport { getUserInfo } from \"../utils/auth\";\r\n\r\nconst API = axios.create({ baseURL: \"/api\" });\r\n\r\nAPI.interceptors.request.use(\r\n  (req) => {\r\n    NProgress.start();\r\n    const user = getUserInfo();\r\n    if (user) {\r\n      req.headers.authorization = user?.token;\r\n    }\r\n\r\n    return req;\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\nAPI.interceptors.response.use(\r\n  (res) => {\r\n    NProgress.done();\r\n    return res?.data;\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\nexport default API;\r\n\r\nexport const login = (data) => API.post(\"/auth/login\", data);\r\nexport const register = (data) => API.post(\"/auth/register\", data);\r\n\r\nexport const upload = (data) => API.post(\"/upload\", data);\r\n\r\nexport const getUser = (id) => API.get(`/users/${id}`);\r\nexport const updateUser = (data)=>API.post('/users/update',data)\r\n\r\nexport const getPosts = () => API.get(\"/posts\");\r\nexport const getPost = (id) => API.get(`/posts/${id}`);\r\nexport const createPost = (data) => API.post(\"/posts/create\", data);\r\nexport const followingPost = (data) => API.get(\"/posts/following\", data);\r\nexport const updatePost = (id, data) => API.put(`/posts/update/${id}`, data);\r\nexport const deletePost = (id, data) => API.delete(`/posts/delete/${id}`, data);\r\nexport const likePost = (id) => API.put(`/posts/like/${id}`);\r\nexport const getSelfPosts = (data) => API.post(`/posts/self`, data);\r\n","import { createFromIconfontCN } from \"@ant-design/icons\";\r\n\r\nconst IconFont = createFromIconfontCN({\r\n  scriptUrl: [\"//at.alicdn.com/t/font_2765586_syr9956cube.js\"],\r\n});\r\n\r\nconst Icon = ({ type, ...props }) => {\r\n  return (\r\n    <>\r\n      <IconFont {...{ ...props, type }} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n","export default __webpack_public_path__ + \"static/media/defaultAvatar.53189188.png\";","import * as API from \"../../api\";\r\nimport * as ROUTES from '../../constants/routes'\r\nimport { LOGIN, LOGOUT } from \"../../constants/actionTypes\";\r\n\r\nexport const login = (formData, err) => async (dispatch) => {\r\n  const res = await API.login(formData);\r\n  if (res.message) {\r\n    return err(res.message);\r\n  }\r\n  dispatch({ type: LOGIN, payload: res });\r\n};\r\n\r\nexport const register = (formData, history, err) => async (dispatch) => {\r\n  const res = await API.register(formData);\r\n  if (res.message) {\r\n    return err(res.message);\r\n  }\r\n  history.replace(ROUTES.LOGIN)\r\n};\r\n\r\nexport const logout = {\r\n  type: LOGOUT,\r\n};\r\n","import styled from \"styled-components\";\r\nimport tw from \"twin.macro\";\r\n\r\nexport const Wrapper = styled.div`\r\n  ${tw`h-14 w-full bg-white sticky top-0 shadow border-b \r\n  border-gray-100 `}\r\n`;\r\nexport const Container = styled.div`\r\n  ${tw`w-full px-2 sm:px-0 md:w-4/5 2xl:max-w-screen-lg mx-auto h-full flex items-center`}\r\n`;\r\n\r\nexport const Logo = styled.img`\r\n  ${tw`object-contain h-8`}\r\n`;\r\n\r\nexport const Search = styled.div`\r\n  ${tw`sm:flex hidden w-52 mx-auto text-sm text-gray-600 items-center justify-center\t h-7 bg-gray-50 border border-gray-300`}\r\n  >span {\r\n    ${tw`mr-2`}\r\n  }\r\n`;\r\nexport const Input = styled.div``;\r\n\r\nexport const Menus = styled.div`\r\n  ${tw` fixed left-0 bottom-0 w-full bg-white py-1 justify-around sm:py-0 sm:w-auto sm:justify-start sm:relative flex ml-auto sm:ml-0`}\r\n`;\r\n\r\nexport const MenuItem = styled.div`\r\n  ${tw`w-6 h-6 flex items-center justify-center  m-2 hover:cursor-pointer`}\r\n  >span {\r\n    ${tw`text-2xl`}\r\n  }\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  ${tw`w-6 h-6 rounded-full object-cover flex-shrink-0`}\r\n`;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as ROUTES from \"../../../constants/routes\";\r\nimport Icon from \"../icon\";\r\nimport defaultAvatar from \"../../../assets/images/defaultAvatar.png\";\r\n\r\nimport {\r\n  Wrapper,\r\n  Container,\r\n  Logo,\r\n  Search,\r\n  // Input,\r\n  Menus,\r\n  MenuItem,\r\n  Avatar,\r\n} from \"./styles\";\r\n\r\nconst Header = () => {\r\n  const { user } = useSelector((state) => state);\r\n\r\n  const history = useHistory();\r\n  return !history.location.pathname.includes(\"share\") ? (\r\n    <Wrapper>\r\n      <Container>\r\n        <Logo\r\n          onClick={() => history.push(\"/\")}\r\n          src=\"https://fontmeme.com/permalink/210823/50ff875ad698b68a5204ae465788590a.png\"\r\n        />\r\n        <Search>\r\n          <Icon type=\"icon-search\" />\r\n          搜索\r\n          {/* <Input placeholder=\"\" /> */}\r\n        </Search>\r\n        <Menus>\r\n          <MenuItem onClick={() => history.push(ROUTES.HOME)}>\r\n            <Icon type=\"icon-home\" />\r\n          </MenuItem>\r\n          <MenuItem onClick={() => history.push(ROUTES.HOME)}>\r\n            <Icon type=\"icon-share\" />\r\n          </MenuItem>\r\n          <MenuItem onClick={() => history.push(ROUTES.SHARE)}>\r\n            <Icon type=\"icon-add\" />\r\n          </MenuItem>\r\n          <MenuItem onClick={() => history.push(ROUTES.HOME)}>\r\n            <Icon type=\"icon-heart\" />\r\n          </MenuItem>\r\n          <MenuItem onClick={() => history.push(\"/p/\" + user.username)}>\r\n            <Avatar src={user.avatar || defaultAvatar} />\r\n          </MenuItem>\r\n        </Menus>\r\n      </Container>\r\n    </Wrapper>\r\n  ) : null;\r\n};\r\n\r\nexport default Header;\r\n","import styled from \"styled-components\";\r\nimport tw from \"twin.macro\";\r\n\r\nexport const Wrapper = styled.div`\r\n  ${tw`pl-4`}\r\n`;\r\n\r\nexport const UserInfo = styled.div`\r\n  ${tw`flex items-center my-4  flex-shrink-0`}\r\n  >div {\r\n    ${tw`flex flex-col px-3 text-sm`}\r\n    strong {\r\n      ${tw`text-black font-semibold\t`}\r\n    }\r\n    span {\r\n      ${tw`text-gray-400`}\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  ${tw`w-14 h-14 bg-gray-200 rounded-full object-cover\t`}\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  ${tw`ml-auto text-xs text-blue-400 font-semibold flex-shrink-0`}\r\n  &.gray {\r\n    ${tw`text-gray-700`}\r\n  }\r\n`;\r\n\r\nexport const Recommend = styled.div``;\r\n\r\nexport const Title = styled.div`\r\n  ${tw`flex items-center justify-between`}\r\n  span {\r\n    ${tw`text-sm text-gray-400 font-semibold`}\r\n  }\r\n`;\r\n\r\nexport const ProfileList = styled.div``;\r\n\r\nexport const ProfileItem = styled.div`\r\n  ${tw`flex items-center py-2  flex-shrink-0`}\r\n  >div {\r\n    ${tw`flex flex-col px-3 text-xs`}\r\n    strong {\r\n      ${tw`text-black font-semibold\t`}\r\n    }\r\n    span {\r\n      ${tw`text-gray-400`}\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ProfileAvatar = styled.div`\r\n  ${tw`w-8 h-8 bg-gray-200 rounded-full\t`}\r\n`;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport defaultAvatar from \"../../assets/images/defaultAvatar.png\";\r\n\r\nimport * as Actions from \"../../context/actions/user\";\r\n\r\nimport {\r\n  Wrapper,\r\n  UserInfo,\r\n  Avatar,\r\n  Button,\r\n  Recommend,\r\n  Title,\r\n  ProfileList,\r\n  ProfileItem,\r\n  ProfileAvatar,\r\n} from \"./styles\";\r\n\r\nconst Sidebar = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state);\r\n  const logout = () => {\r\n    dispatch(Actions.logout);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <UserInfo>\r\n        <Avatar\r\n          src={defaultAvatar}\r\n          onClick={() => history.push('/p/'+user.username)}\r\n        />\r\n        <div>\r\n          <strong>{ user.username}</strong>\r\n          <span>instagram</span>\r\n        </div>\r\n        <Button onClick={logout}>退出</Button>\r\n      </UserInfo>\r\n      <Recommend>\r\n        <Title>\r\n          <span>为你推荐</span>\r\n          <Button className=\"gray\">查看全部</Button>\r\n        </Title>\r\n        <ProfileList>\r\n          <ProfileItem>\r\n            <ProfileAvatar />\r\n            <div>\r\n              <strong>instagram</strong>\r\n              <span>tip</span>\r\n            </div>\r\n            <Button>关注</Button>\r\n          </ProfileItem>\r\n          <ProfileItem>\r\n            <ProfileAvatar />\r\n            <div>\r\n              <strong>instagram</strong>\r\n              <span>tip</span>\r\n            </div>\r\n            <Button>关注</Button>\r\n          </ProfileItem>\r\n          <ProfileItem>\r\n            <ProfileAvatar />\r\n            <div>\r\n              <strong>instagram</strong>\r\n              <span>tip</span>\r\n            </div>\r\n            <Button>关注</Button>\r\n          </ProfileItem>\r\n        </ProfileList>\r\n      </Recommend>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"sourceRoot":""}