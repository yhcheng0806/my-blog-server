{"version":3,"sources":["constants/actionTypes.js","utils/auth.js","router/authRoute.js","components/loader/index.js","router/routes.js","App.js","context/reducers/user.js","context/index.js","context/reducers/index.js","index.js","constants/routes.js"],"names":["LOGIN","LOGOUT","MODIFY_USERINFO","FOLLOW_USER","UNFOLLOW_USER","getUserInfo","JSON","parse","localStorage","getItem","setUserInfo","userInfo","setItem","stringify","AuthRoute","user","children","pathname","location","includes","ROUTES","to","Loader","routes","path","component","lazy","App","useSelector","state","fallback","map","exact","initState","result","userReducer","type","payload","clear","following","filter","id","reducers","combineReducers","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById","HOME","REGISTER","PROFILE","POSTINFO","SHARE","ERROR"],"mappings":"uGAAA,0KAAO,IAAMA,EAAQ,QAERC,EAAS,SACTC,EAAkB,kBAClBC,EAAc,cACdC,EAAgB,iB,gCCL7B,oEAAO,IAAMC,EAAc,WACzB,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,cAG5BC,EAAc,SAACC,GAC1BH,aAAaI,QAAQ,WAAYN,KAAKO,UAAUF,M,uJCsBnCG,EAvBG,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,SACjBC,EAD0C,mCACvBC,SAAnBD,SAOR,OAAIF,EACKE,EAASE,SAASC,KACvB,cAAC,IAAD,CAAUC,GAAI,CAAEJ,SAAUG,OAE1B,mCAAGJ,IAIL,qCACE,cAAC,IAAD,CAAUK,GAAI,CAAEJ,SAAUG,OACzBJ,MCZQM,EARA,WACb,OACE,8CC8BWC,EA/BA,CACb,CACEC,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,yDAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,yDAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,mCAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,6EAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,gEAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,sEAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,wECJXC,EAlBH,WAAO,IACTZ,EAASa,aAAY,SAACC,GAAD,OAAWA,KAAhCd,KAER,OACE,cAAC,IAAD,UACE,cAAC,WAAD,CAAUe,SAAU,cAAC,EAAD,IAApB,SACE,cAAC,IAAD,UACE,cAAC,EAAD,CAAWf,KAAMA,EAAjB,SACGQ,EAAOQ,KAAI,gBAAGP,EAAH,EAAGA,KAAMC,EAAT,EAASA,UAAT,OACV,cAAC,IAAD,CAAOO,OAAK,EAAYR,KAAMA,EAAMC,UAAWA,GAA7BD,e,+BCd1BS,GAAuB,QAAX,EAAA5B,qBAAA,eAAe6B,SAAU,KA2B5BC,EAzBK,WAA2C,IAA1CN,EAAyC,uDAAjCI,EAAiC,yCAApBG,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC9C,OAAQD,GACN,KAAKpC,IAEH,OADAU,YAAY2B,GACL,2BAAKR,GAAUQ,EAAQH,QAChC,KAAKjC,IAEH,OADAO,aAAa8B,QACN,KACT,KAAKpC,IACH,OAAO,2BAAK2B,GAAUQ,GACxB,KAAKlC,IACH,OAAO,2BACF0B,GADL,IAEEU,UAAU,GAAD,mBAAMV,EAAMU,WAAZ,CAAuBF,MAEpC,KAAKjC,IACH,OAAO,2BACFyB,GADL,IAEEU,UAAWV,EAAMU,UAAUC,QAAO,SAAAC,GAAE,OAAIA,IAAOJ,OAEnD,QACE,OAAOR,ICtBAa,ECAEC,YAAgB,CAAE5B,SCS3B6B,G,kBAAQC,YAAYH,EAAUI,YAAQC,YAAgBC,QAE5DC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFO,SAASC,eAAe,U,+BCnB1B,8OAAO,IAAMC,EAAO,IACPrD,EAAQ,SACRsD,EAAW,YACXC,EAAU,eACVC,EAAW,gBACXC,EAAQ,SACRC,EAAQ,W","file":"static/js/main.0b898de1.chunk.js","sourcesContent":["export const LOGIN = \"LOGIN\";\r\nexport const REGISTER = \"REGISTER\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const MODIFY_USERINFO = \"MODIFY_USERINFO\"\r\nexport const FOLLOW_USER = \"FOLLOW_USER\"\r\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\"","export const getUserInfo = () => {\r\n  return JSON.parse(localStorage.getItem(\"userInfo\"));\r\n};\r\n\r\nexport const setUserInfo = (userInfo) => {\r\n  localStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\r\n};\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport * as ROUTES from \"../constants/routes\";\r\n\r\nconst AuthRoute = ({ user, children, ...props }) => {\r\n  const { pathname } = props.location;\r\n  // console.log(Object.values(ROUTES), \"--ROUTES\");\r\n\r\n  // if (!Object.values(ROUTES).includes(pathname)) {\r\n  //   return <Redirect to={{ pathname: ROUTES.ERROR }} />;\r\n  // }\r\n\r\n  if (user) {\r\n    return pathname.includes(ROUTES.LOGIN) ? (\r\n      <Redirect to={{ pathname: ROUTES.HOME }} />\r\n    ) : (\r\n      <>{children}</>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <Redirect to={{ pathname: ROUTES.LOGIN }} />\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthRoute;\r\n","import React from 'react'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div>\r\n      loading...\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n\r\n","import { lazy } from \"react\";\r\nimport * as ROUTES from \"../constants/routes\";\r\n\r\nconst routes = [\r\n  {\r\n    path: ROUTES.LOGIN,\r\n    component: lazy(() => import(\"../pages/login\")),\r\n  },\r\n  {\r\n    path: ROUTES.REGISTER,\r\n    component: lazy(() => import(\"../pages/register\")),\r\n  },\r\n  {\r\n    path: ROUTES.ERROR,\r\n    component: lazy(() => import(\"../pages/error\")),\r\n  },\r\n  {\r\n    path: ROUTES.HOME,\r\n    component: lazy(() => import(\"../pages/home\")),\r\n  },\r\n  {\r\n    path: ROUTES.PROFILE,\r\n    component: lazy(() => import(\"../pages/profile\")),\r\n  },\r\n  {\r\n    path: ROUTES.SHARE,\r\n    component: lazy(() => import(\"../pages/share\")),\r\n  },\r\n  {\r\n    path: ROUTES.POSTINFO,\r\n    component: lazy(() => import(\"../pages/postInfo\")),\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React, { Suspense } from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport AuthRoute from \"./router/authRoute\";\r\nimport ReactLoader from \"./components/loader\";\r\n\r\nimport routes from \"./router/routes\";\r\n\r\nconst App = () => {\r\n  const { user } = useSelector((state) => state);\r\n\r\n  return (\r\n    <Router>\r\n      <Suspense fallback={<ReactLoader />}>\r\n        <Switch>\r\n          <AuthRoute user={user}>\r\n            {routes.map(({ path, component }) => (\r\n              <Route exact key={path} path={path} component={component} />\r\n            ))}\r\n          </AuthRoute>\r\n        </Switch>\r\n      </Suspense>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { FOLLOW_USER, LOGIN, LOGOUT, MODIFY_USERINFO, UNFOLLOW_USER } from \"../../constants/actionTypes\";\r\nimport { getUserInfo, setUserInfo } from \"../../utils/auth\";\r\n\r\nconst initState = getUserInfo()?.result || null;\r\n\r\nconst userReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case LOGIN:\r\n      setUserInfo(payload);\r\n      return { ...state, ...payload.result };\r\n    case LOGOUT:\r\n      localStorage.clear();\r\n      return null;\r\n    case MODIFY_USERINFO:\r\n      return { ...state, ...payload };\r\n    case FOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: [...state.following, payload]\r\n      }\r\n    case UNFOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        following: state.following.filter(id => id !== payload)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import combineReducers from './reducers'\r\n\r\n\r\n\r\nexport const reducers = combineReducers","import { combineReducers } from \"redux\";\r\n\r\nimport user from \"./user\";\r\n\r\nexport default combineReducers({ user });\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport App from \"./App\";\r\nimport { reducers } from \"./context\";\r\n\r\nimport \"./styles/app.css\";\r\nimport \"antd/dist/antd.css\";\r\nimport 'emoji-mart/css/emoji-mart.css'\r\n\r\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","export const HOME = '/'\r\nexport const LOGIN = '/login'\r\nexport const REGISTER = '/register'\r\nexport const PROFILE = '/p/:username'\r\nexport const POSTINFO = '/post/:postId'\r\nexport const SHARE = '/share'\r\nexport const ERROR = '/error'\r\n"],"sourceRoot":""}