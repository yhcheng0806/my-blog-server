{"version":3,"sources":["constants/actionTypes.js","utils/auth.js","router/authRoute.js","components/loader/index.js","router/routes.js","App.js","context/reducers/user.js","context/index.js","context/reducers/index.js","index.js","constants/routes.js"],"names":["LOGIN","LOGOUT","MODIFY_USERINFO","getUserInfo","JSON","parse","localStorage","getItem","setUserInfo","userInfo","setItem","stringify","AuthRoute","user","children","pathname","location","includes","ROUTES","to","Loader","routes","path","component","lazy","App","useSelector","state","fallback","map","exact","initState","result","userReducer","type","payload","clear","reducers","combineReducers","store","createStore","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById","HOME","REGISTER","PROFILE","POSTINFO","SHARE","ERROR"],"mappings":"uGAAA,sGAAO,IAAMA,EAAQ,QAERC,EAAS,SACTC,EAAkB,mB,gCCH/B,oEAAO,IAAMC,EAAc,WACzB,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,cAG5BC,EAAc,SAACC,GAC1BH,aAAaI,QAAQ,WAAYN,KAAKO,UAAUF,M,uJCsBnCG,EAvBG,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,SACjBC,EAD0C,mCACvBC,SAAnBD,SAOR,OAAIF,EACKE,EAASE,SAASC,KACvB,cAAC,IAAD,CAAUC,GAAI,CAAEJ,SAAUG,OAE1B,mCAAGJ,IAIL,qCACE,cAAC,IAAD,CAAUK,GAAI,CAAEJ,SAAUG,OACzBJ,MCZQM,EARA,WACb,OACE,8CC8BWC,EA/BA,CACb,CACEC,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,gEAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,gEAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,mCAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,6EAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,uEAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,6EAExB,CACEF,KAAMJ,IACNK,UAAWC,gBAAK,kBAAM,0DCJXC,EAlBH,WAAO,IACTZ,EAASa,aAAY,SAACC,GAAD,OAAWA,KAAhCd,KAER,OACE,cAAC,IAAD,UACE,cAAC,WAAD,CAAUe,SAAU,cAAC,EAAD,IAApB,SACE,cAAC,IAAD,UACE,cAAC,EAAD,CAAWf,KAAMA,EAAjB,SACGQ,EAAOQ,KAAI,gBAAGP,EAAH,EAAGA,KAAMC,EAAT,EAASA,UAAT,OACV,cAAC,IAAD,CAAOO,OAAK,EAAYR,KAAMA,EAAMC,UAAWA,GAA7BD,e,wBCd1BS,GAAuB,QAAX,EAAA5B,qBAAA,eAAe6B,SAAU,KAiB5BC,EAfK,WAA2C,IAA1CN,EAAyC,uDAAjCI,EAAiC,yCAApBG,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC9C,OAAQD,GACN,KAAKlC,IAEH,OADAQ,YAAY2B,GACL,2BAAKR,GAAUQ,EAAQH,QAChC,KAAK/B,IAEH,OADAK,aAAa8B,QACN,KACT,KAAKlC,IACH,OAAO,2BAAKyB,GAAUQ,GACxB,QACE,OAAOR,ICZAU,ECAEC,YAAgB,CAAEzB,SCQ3B0B,G,YAAQC,YAAYH,EAAUI,YAAQC,YAAgBC,QAE5DC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFO,SAASC,eAAe,U,+BClB1B,8OAAO,IAAMC,EAAO,IACPhD,EAAQ,SACRiD,EAAW,YACXC,EAAU,eACVC,EAAW,gBACXC,EAAQ,SACRC,EAAQ,W","file":"static/js/main.73f86f96.chunk.js","sourcesContent":["export const LOGIN = \"LOGIN\";\r\nexport const REGISTER = \"REGISTER\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const MODIFY_USERINFO = \"MODIFY_USERINFO\"\r\n","export const getUserInfo = () => {\r\n  return JSON.parse(localStorage.getItem(\"userInfo\"));\r\n};\r\n\r\nexport const setUserInfo = (userInfo) => {\r\n  localStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\r\n};\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport * as ROUTES from \"../constants/routes\";\r\n\r\nconst AuthRoute = ({ user, children, ...props }) => {\r\n  const { pathname } = props.location;\r\n  // console.log(Object.values(ROUTES), \"--ROUTES\");\r\n\r\n  // if (!Object.values(ROUTES).includes(pathname)) {\r\n  //   return <Redirect to={{ pathname: ROUTES.ERROR }} />;\r\n  // }\r\n\r\n  if (user) {\r\n    return pathname.includes(ROUTES.LOGIN) ? (\r\n      <Redirect to={{ pathname: ROUTES.HOME }} />\r\n    ) : (\r\n      <>{children}</>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <Redirect to={{ pathname: ROUTES.LOGIN }} />\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthRoute;\r\n","import React from 'react'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div>\r\n      loading...\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n\r\n","import { lazy } from \"react\";\r\nimport * as ROUTES from \"../constants/routes\";\r\n\r\nconst routes = [\r\n  {\r\n    path: ROUTES.LOGIN,\r\n    component: lazy(() => import(\"../pages/login\")),\r\n  },\r\n  {\r\n    path: ROUTES.REGISTER,\r\n    component: lazy(() => import(\"../pages/register\")),\r\n  },\r\n  {\r\n    path: ROUTES.ERROR,\r\n    component: lazy(() => import(\"../pages/error\")),\r\n  },\r\n  {\r\n    path: ROUTES.HOME,\r\n    component: lazy(() => import(\"../pages/home\")),\r\n  },\r\n  {\r\n    path: ROUTES.PROFILE,\r\n    component: lazy(() => import(\"../pages/profile\")),\r\n  },\r\n  {\r\n    path: ROUTES.SHARE,\r\n    component: lazy(() => import(\"../pages/share\")),\r\n  },\r\n  {\r\n    path: ROUTES.POSTINFO,\r\n    component: lazy(() => import(\"../pages/postInfo\")),\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React, { Suspense } from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport AuthRoute from \"./router/authRoute\";\nimport ReactLoader from \"./components/loader\";\n\nimport routes from \"./router/routes\";\n\nconst App = () => {\n  const { user } = useSelector((state) => state);\n\n  return (\n    <Router>\n      <Suspense fallback={<ReactLoader />}>\n        <Switch>\n          <AuthRoute user={user}>\n            {routes.map(({ path, component }) => (\n              <Route exact key={path} path={path} component={component} />\n            ))}\n          </AuthRoute>\n        </Switch>\n      </Suspense>\n    </Router>\n  );\n};\n\nexport default App;\n","import { LOGIN, LOGOUT, MODIFY_USERINFO } from \"../../constants/actionTypes\";\r\nimport { getUserInfo, setUserInfo } from \"../../utils/auth\";\r\n\r\nconst initState = getUserInfo()?.result || null;\r\n\r\nconst userReducer = (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case LOGIN:\r\n      setUserInfo(payload);\r\n      return { ...state, ...payload.result };\r\n    case LOGOUT:\r\n      localStorage.clear();\r\n      return null;\r\n    case MODIFY_USERINFO:\r\n      return { ...state, ...payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import combineReducers from './reducers'\r\n\r\n\r\n\r\nexport const reducers = combineReducers","import { combineReducers } from \"redux\";\r\n\r\nimport user from \"./user\";\r\n\r\nexport default combineReducers({ user });\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport App from \"./App\";\nimport { reducers } from \"./context\";\n\nimport \"./styles/app.css\";\nimport \"antd/dist/antd.css\";\n\nconst store = createStore(reducers, compose(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","export const HOME = '/'\r\nexport const LOGIN = '/login'\r\nexport const REGISTER = '/register'\r\nexport const PROFILE = '/p/:username'\r\nexport const POSTINFO = '/post/:postId'\r\nexport const SHARE = '/share'\r\nexport const ERROR = '/error'\r\n"],"sourceRoot":""}