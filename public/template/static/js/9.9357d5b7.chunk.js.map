{"version":3,"sources":["components/sidebar/styles.js","components/sidebar/index.js","pages/share/styles.js","pages/share/index.js","api/index.js","assets/images/defaultAvatar.png","components/common/icon/index.js","context/actions/user.js","components/common/header/styles.js","components/common/header/index.js"],"names":["Wrapper","styled","div","UserInfo","Avatar","img","Button","button","Recommend","Title","ProfileList","ProfileItem","ProfileAvatar","Sidebar","history","dispatch","useDispatch","user","useSelector","state","src","avatar","process","defaultAvatar","onClick","push","username","Actions","className","Container","LeftContent","ShareWrapper","ShareNav","ShareContainer","Panel","Main","Textarea","textarea","MainContent","Photo","CloseIcon","ImgContainer","VideoContainer","ShareOptions","ShareOption","ShareItem","Label","ShareBottom","SubmitBtn","RightContent","Share","PF","useState","photos","formData","setFormData","loading","setLoading","useRef","handleData","name","value","uploadFile","a","target","files","length","isImg","test","file","fileName","Date","now","data","FormData","append","API","checkData","desc","submit","userId","_id","replace","type","goBack","LoadingOutlined","placeholder","onChange","e","current","scrollHeight","offsetHeight","style","height","ref","map","photo","index","CloseCircleOutlined","splice","deletePhotoItem","width","preview","controls","htmlFor","display","id","accept","axios","create","baseURL","interceptors","request","use","req","NProgress","start","getUserInfo","headers","authorization","token","err","Promise","reject","response","res","done","login","post","register","upload","getMsgList","postId","get","sendMsg","getUser","updateUser","getPosts","createPost","likePost","put","getSelfPosts","IconFont","createFromIconfontCN","scriptUrl","Icon","props","message","LOGIN","payload","ROUTES","logout","LOGOUT","modifyUserInfo","MODIFY_USERINFO","Logo","Search","Menus","MenuItem","Header","useHistory","location","pathname","includes"],"mappings":"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","file":"static/js/9.9357d5b7.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport tw from \"twin.macro\";\n\nexport const Wrapper = styled.div`\n  ${tw`pl-4`}\n`;\n\nexport const UserInfo = styled.div`\n  ${tw`flex items-center my-4  flex-shrink-0`}\n  >div {\n    ${tw`flex flex-col px-3 text-sm`}\n    strong {\n      ${tw`text-black font-semibold\t`}\n    }\n    span {\n      ${tw`text-gray-400`}\n    }\n  }\n`;\n\nexport const Avatar = styled.img`\n  ${tw`w-14 h-14 bg-gray-200 rounded-full object-cover\t`}\n`;\n\nexport const Button = styled.button`\n  ${tw`ml-auto text-xs text-blue-400 font-semibold flex-shrink-0`}\n  &.gray {\n    ${tw`text-gray-700`}\n  }\n`;\n\nexport const Recommend = styled.div``;\n\nexport const Title = styled.div`\n  ${tw`flex items-center justify-between`}\n  span {\n    ${tw`text-sm text-gray-400 font-semibold`}\n  }\n`;\n\nexport const ProfileList = styled.div``;\n\nexport const ProfileItem = styled.div`\n  ${tw`flex items-center py-2  flex-shrink-0`}\n  >div {\n    ${tw`flex flex-col px-3 text-xs`}\n    strong {\n      ${tw`text-black font-semibold\t`}\n    }\n    span {\n      ${tw`text-gray-400`}\n    }\n  }\n`;\n\nexport const ProfileAvatar = styled.div`\n  ${tw`w-8 h-8 bg-gray-200 rounded-full\t`}\n`;\n","import { useDispatch, useSelector } from \"react-redux\";\n\nimport * as Actions from \"../../context/actions/user\";\nimport defaultAvatar from \"../../assets/images/defaultAvatar.png\";\n\nimport {\n  Wrapper,\n  UserInfo,\n  Avatar,\n  Button,\n  Recommend,\n  Title,\n  ProfileList,\n  ProfileItem,\n  ProfileAvatar,\n} from \"./styles\";\n\nconst Sidebar = ({ history }) => {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => state);\n  const logout = () => {\n    dispatch(Actions.logout(history));\n  };\n\n  return (\n    <Wrapper>\n      <UserInfo>\n        <Avatar\n        src={user.avatar ? PF + user.avatar : defaultAvatar} \n          onClick={() => history.push(\"/p/\" + user.username)}\n        />\n        <div>\n          <strong>{user.username}</strong>\n          <span>instagram</span>\n        </div>\n        <Button onClick={logout}>退出</Button>\n      </UserInfo>\n      <Recommend>\n        <Title>\n          <span>为你推荐</span>\n          <Button className=\"gray\">查看全部</Button>\n        </Title>\n        <ProfileList>\n          <ProfileItem>\n            <ProfileAvatar />\n            <div>\n              <strong>instagram</strong>\n              <span>tip</span>\n            </div>\n            <Button>关注</Button>\n          </ProfileItem>\n          <ProfileItem>\n            <ProfileAvatar />\n            <div>\n              <strong>instagram</strong>\n              <span>tip</span>\n            </div>\n            <Button>关注</Button>\n          </ProfileItem>\n          <ProfileItem>\n            <ProfileAvatar />\n            <div>\n              <strong>instagram</strong>\n              <span>tip</span>\n            </div>\n            <Button>关注</Button>\n          </ProfileItem>\n        </ProfileList>\n      </Recommend>\n    </Wrapper>\n  );\n};\n\nexport default Sidebar;\n","import styled from \"styled-components\";\nimport tw from \"twin.macro\";\n\nexport const Wrapper = styled.div`\n  ${tw`h-screen\tw-screen  bg-gray-50`}\n`;\n\nexport const Container = styled.div`\n  ${tw`w-full flex md:w-4/5 2xl:max-w-screen-lg mx-auto h-full`}\n`;\n\nexport const LeftContent = styled.div`\n  ${tw`flex-1 overflow-y-auto\th-full  pb-32`}\n`;\n\nexport const ShareWrapper = styled.div``;\n\nexport const ShareNav = styled.div`\n  ${tw`flex bg-white px-4 h-11  items-center \njustify-between  md:flex`}\n  >span {\n    ${tw`text-xl font-semibold`}\n  }\n`;\n\nexport const Icon = styled.div`\n  ${tw`w-6 h-6 bg-gray-300`}\n`;\n\nexport const Title = styled.div`\n  ${tw`text-sm font-medium`}\n`;\n\nexport const Button = styled.div`\n  ${tw`text-sm text-blue-200 font-medium hover:cursor-not-allowed`}\n  &.active {\n    ${tw`text-blue-400 hover:cursor-pointer`}\n  }\n`;\n\nexport const ShareContainer = styled.div`\n  > div {\n    ${tw`bg-white text-xs md:text-sm  flex justify-between border-b border-t border-gray-300 mb-3`}\n  }\n`;\n\nexport const Panel = styled.div`\n  ${tw`p-4`}\n`;\n\nexport const Main = styled.div`\n  ${tw`flex-1 px-3 relative flex flex-col`}\n`;\nexport const Avatar = styled.img`\n  ${tw`w-8 h-8 bg-gray-200 rounded-full object-cover`}\n`;\n\nexport const Textarea = styled.textarea`\n  ${tw`w-full h-auto max-h-24\ttext-sm overflow-y-auto\t focus:outline-none`}\n`;\n\nexport const MainContent = styled.div`\n  /* ${tw`grid gap-3 grid-cols-3`} */\n`;\n\nexport const Photo = styled.div`\n  ${tw`relative mt-2`}\n`;\n\nexport const CloseIcon = styled.div`\n${tw`absolute top-2 right-3 z-10`}\nspan {\n  ${tw`text-xl text-white hover:cursor-pointer`}\n}\n`\n\nexport const ImgContainer = styled.div`\n  ${tw`relative`}\n`;\n\nexport const VideoContainer = styled.div``;\n\nexport const ShareOptions = styled.div`\n  ${tw`flex mt-2`}\n`;\n\nexport const ShareOption = styled.div`\n  ${tw`flex items-center mr-4`}\n  >* {\n    ${tw`flex items-center`}\n  }\n\n  strong {\n    ${tw`pl-1 flex-shrink-0 font-medium text-gray-600`}\n  }\n`;\n\nexport const ShareItem = styled.div`\n  ${tw`px-4 py-3 flex items-center justify-between`}\n`;\n\nexport const Label = styled.div``;\n\nexport const ShareBottom = styled.div`\n  ${tw`hidden justify-end px-4 py-3 bg-white md:hidden`}\n`;\n\nexport const SubmitBtn = styled.button`\n  ${tw`text-center  py-1    text-blue-400 font-medium hover:text-blue-300`}\n`;\n\nexport const RightContent = styled.div`\n  ${tw`hidden md:block w-1/3`}\n`;\n","import React, { useState, useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Image } from \"antd\";\nimport { LoadingOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\n\nimport Header from \"../../components/common/header\";\nimport Sidebar from \"../../components/sidebar\";\nimport Icon from \"../../components/common/icon\";\nimport defaultAvatar from \"../../assets/images/defaultAvatar.png\";\n\nimport * as API from \"../../api\";\n\nimport {\n  Wrapper,\n  Container,\n  LeftContent,\n  ShareWrapper,\n  ShareNav,\n  Title,\n  Button,\n  ShareContainer,\n  Panel,\n  Avatar,\n  Textarea,\n  MainContent,\n  Photo,\n  CloseIcon,\n  ImgContainer,\n  VideoContainer,\n  Main,\n  ShareOptions,\n  ShareOption,\n  ShareItem,\n  Label,\n  ShareBottom,\n  SubmitBtn,\n  RightContent,\n} from \"./styles\";\n\nconst Share = ({ history, ...props }) => {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  const [formData, setFormData] = useState({\n    photos: [],\n  });\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => state);\n  const textarea = useRef(null);\n\n  const handleData = ({ name, value }) => {\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  const onEdit = (e) => {\n    handleData(e.target);\n\n    if (textarea.current.scrollHeight >= textarea.current.offsetHeight) {\n      textarea.current.style.height = textarea.current.scrollHeight + \"px\";\n    }\n  };\n\n  const uploadFile = async ({ target }) => {\n    if (!target.files.length) return;\n\n    const isImg = /\\.(png|jpg|gif|jpeg|webp)$/.test(target.value);\n\n    const file = target.files[0];\n    const fileName = Date.now() + file.name;\n    const data = new FormData();\n    data.append(\"name\", fileName);\n    data.append(\"file\", file);\n    await API.upload(data);\n    handleData({\n      name: \"photos\",\n      value: [\n        ...formData?.photos,\n        {\n          isImg,\n          src: fileName,\n        },\n      ],\n    });\n  };\n\n  const deletePhotoItem = (index) => {\n    let photos = formData.photos;\n    photos.splice(index, 1);\n    setFormData({\n      ...formData,\n      photos,\n    });\n  };\n\n  const checkData = () => {\n    const { desc, photos } = formData;\n    return desc && photos.length;\n  };\n\n  const submit = async () => {\n    if (loading) return;\n    if (!checkData()) return;\n\n    setLoading(true);\n    try {\n      await API.createPost({\n        ...formData,\n        userId: user._id,\n      });\n      setLoading(false);\n      history.replace(\"/\");\n    } catch (error) {}\n  };\n\n  return (\n    <Wrapper>\n      <Header />\n      <Container>\n        <LeftContent>\n          <ShareWrapper>\n            <ShareNav>\n              <Icon type=\"icon-arrow-left\" onClick={() => history.goBack()} />\n              <Title>新帖子</Title>\n              <Button className={checkData() && \"active\"} onClick={submit}>\n                {loading ? <LoadingOutlined /> : \"分享\"}\n              </Button>\n            </ShareNav>\n            <ShareContainer>\n              <Panel>\n                <Avatar src={user.avatar ? PF + user.avatar : defaultAvatar} />\n                <Main>\n                  <Textarea\n                    placeholder=\"分享你的趣事\"\n                    name=\"desc\"\n                    onChange={onEdit}\n                    ref={textarea}\n                  />\n                  <MainContent>\n                    {formData?.photos.map((photo, index) => (\n                      <Photo key={photo.src}>\n                        <CloseIcon>\n                          <CloseCircleOutlined\n                            onClick={() => deletePhotoItem(index)}\n                          />\n                        </CloseIcon>\n                        {photo.isImg ? (\n                          <ImgContainer>\n                            <Image\n                              width=\"100%\"\n                              preview={false}\n                              src={PF + photo.src}\n                            />\n                          </ImgContainer>\n                        ) : (\n                          <VideoContainer>\n                            <video src={PF + photo.src} controls></video>\n                          </VideoContainer>\n                        )}\n                      </Photo>\n                    ))}\n                  </MainContent>\n                  <ShareOptions>\n                    {/* <ShareOption>\n            <Upload status=\"uploading\" name=\"file\" customRequest={uploadFile}>\n              <Icon />\n              <strong>照片/视频</strong>\n            </Upload>\n          </ShareOption> */}\n                    <ShareOption>\n                      <label htmlFor=\"file\">\n                        <Icon type=\"icon-photo\" />\n                        <strong>照片/视频</strong>\n                        <input\n                          style={{ display: \"none\" }}\n                          type=\"file\"\n                          id=\"file\"\n                          accept=\"image/*,video/*\"\n                          onChange={(e) => uploadFile(e)}\n                        />\n                      </label>\n                    </ShareOption>\n\n                    <ShareOption>\n                      <Icon type=\"icon-bookmark\" />\n                      <strong>#标签</strong>\n                    </ShareOption>\n                    {/* <ShareOption>\n                      <Icon />\n                      <strong>权限</strong>\n                    </ShareOption> */}\n                    <ShareOption>\n                      <Icon type=\"icon-emoji\" />\n                      <strong>表情</strong>\n                    </ShareOption>\n                  </ShareOptions>\n                </Main>\n              </Panel>\n              <ShareItem>\n                <Label>添加地点</Label>\n                <Icon type=\"icon-arrow-right\" />\n              </ShareItem>\n              <ShareItem>\n                <Label>标记用户</Label>\n                <Icon type=\"icon-arrow-right\" />\n              </ShareItem>\n            </ShareContainer>\n            <ShareBottom>\n              <SubmitBtn>分享</SubmitBtn>\n            </ShareBottom>\n          </ShareWrapper>\n        </LeftContent>\n        <RightContent>\n          <Sidebar history={history} />\n        </RightContent>\n      </Container>\n    </Wrapper>\n  );\n};\n\nexport default Share;\n","import axios from \"axios\";\nimport NProgress from \"nprogress\";\nimport \"nprogress/nprogress.css\";\n\nimport { getUserInfo } from \"../utils/auth\";\n\nconst API = axios.create({ baseURL: process.env.REACT_APP_API_URL });\n\nAPI.interceptors.request.use(\n  (req) => {\n    NProgress.start();\n    const user = getUserInfo();\n    if (user) {\n      req.headers.authorization = user?.token;\n    }\n\n    return req;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\nAPI.interceptors.response.use(\n  (res) => {\n    NProgress.done();\n    return res?.data;\n  },\n  (err) => {\n    NProgress.done();\n    return Promise.reject(err);\n  }\n);\n\nexport default API;\n\nexport const login = (data) => API.post(\"auth/login\", data);\nexport const register = (data) => API.post(\"auth/register\", data);\n\nexport const upload = (data) => API.post(\"upload\", data);\n\nexport const getMsgList = (postId) => API.get(`msgs/${postId}`);\nexport const sendMsg = (data) => API.post(\"msgs/send\", data);\n\nexport const getUser = (userId) => API.get(`users/${userId}`);\nexport const updateUser = (data) => API.post(\"users/update\", data);\n\nexport const getPosts = () => API.get(\"posts\");\nexport const getPost = (postId) => API.get(`posts/${postId}`);\nexport const createPost = (data) => API.post(\"posts/create\", data);\nexport const followingPost = (data) => API.get(\"posts/following\", data);\nexport const updatePost = (postId, data) => API.put(`/posts/update/${postId}`, data);\nexport const deletePost = (postId, data) => API.delete(`/posts/delete/${postId}`, data);\nexport const likePost = (postId, data) => API.put(`posts/like/${postId}`, data);\nexport const getSelfPosts = (data) => API.post(`posts/self`, data);\n","export default \"data:image/png;base64,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\"","import { createFromIconfontCN } from \"@ant-design/icons\";\n\nconst IconFont = createFromIconfontCN({\n  scriptUrl: [\"//at.alicdn.com/t/font_2765586_syr9956cube.js\"],\n});\n\nconst Icon = ({ type, ...props }) => {\n  return (\n    <>\n      <IconFont {...{ ...props, type }} />\n    </>\n  );\n};\n\nexport default Icon;\n","import * as API from \"../../api\";\nimport * as ROUTES from \"../../constants/routes\";\nimport { LOGIN, LOGOUT, MODIFY_USERINFO } from \"../../constants/actionTypes\";\n\nexport const login = (formData, err) => async (dispatch) => {\n  const res = await API.login(formData);\n  if (res.message) {\n    return err(res.message);\n  }\n  dispatch({ type: LOGIN, payload: res });\n};\n\nexport const register = (formData, history, err) => async (dispatch) => {\n  const res = await API.register(formData);\n  if (res.message) {\n    return err(res.message);\n  }\n  history.replace(ROUTES.LOGIN);\n};\n\nexport const logout = (history) => {\n  history.replace(\"/login\");\n  return { type: LOGOUT };\n};\n\nexport const modifyUserInfo = (payload) => {\n  return {\n    type: MODIFY_USERINFO,\n    payload,\n  };\n};\n\n","import styled from \"styled-components\";\nimport tw from \"twin.macro\";\n\nexport const Wrapper = styled.div`\n  ${tw`h-14 w-full bg-white sticky top-0 shadow border-b \n  border-gray-100 `}\n`;\nexport const Container = styled.div`\n  ${tw`w-full px-2 md:px-0 md:w-4/5 2xl:max-w-screen-lg mx-auto h-full flex items-center`}\n`;\n\nexport const Logo = styled.img`\n  ${tw`object-contain h-8`}\n`;\n\nexport const Search = styled.div`\n  ${tw`md:flex hidden w-52 mx-auto text-sm text-gray-600 items-center justify-center\t h-7 bg-gray-50 border border-gray-300`}\n  >span {\n    ${tw`mr-2`}\n  }\n`;\nexport const Input = styled.div``;\n\nexport const Menus = styled.div`\n  ${tw` fixed z-50 left-0 bottom-0 w-full bg-white py-1 justify-around md:py-0 md:w-auto md:justify-start md:relative flex ml-auto md:ml-0`}\n`;\n\nexport const MenuItem = styled.div`\n  ${tw`w-6 h-6 flex items-center justify-center  m-2 hover:cursor-pointer`}\n  >span {\n    ${tw`text-2xl`}\n  }\n`;\n\nexport const Avatar = styled.img`\n  ${tw`w-6 h-6 rounded-full object-cover flex-shrink-0`}\n`;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { useHistory } from \"react-router-dom\";\nimport * as ROUTES from \"../../../constants/routes\";\nimport Icon from \"../icon\";\nimport defaultAvatar from \"../../../assets/images/defaultAvatar.png\";\n\nimport {\n  Wrapper,\n  Container,\n  Logo,\n  Search,\n  // Input,\n  Menus,\n  MenuItem,\n  Avatar,\n} from \"./styles\";\n\nconst Header = () => {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  const { user } = useSelector((state) => state);\n\n  const history = useHistory();\n  return !history.location.pathname.includes(\"share\") ? (\n    <Wrapper>\n      <Container>\n        <Logo\n          onClick={() => history.push(\"/\")}\n          src=\"https://fontmeme.com/permalink/210823/50ff875ad698b68a5204ae465788590a.png\"\n        />\n        <Search>\n          <Icon type=\"icon-search\" />\n          搜索\n          {/* <Input placeholder=\"\" /> */}\n        </Search>\n        <Menus>\n          <MenuItem onClick={() => history.push(ROUTES.HOME)}>\n            <Icon type=\"icon-home\" />\n          </MenuItem>\n          <MenuItem onClick={() => history.push(ROUTES.HOME)}>\n            <Icon type=\"icon-share\" />\n          </MenuItem>\n          <MenuItem onClick={() => history.push(ROUTES.SHARE)}>\n            <Icon type=\"icon-add\" />\n          </MenuItem>\n          <MenuItem onClick={() => history.push(ROUTES.HOME)}>\n            <Icon type=\"icon-heart\" />\n          </MenuItem>\n          <MenuItem onClick={() => history.push(\"/p/\" + user.username)}>\n            <Avatar src={user.avatar ? PF + user.avatar : defaultAvatar} />\n          </MenuItem>\n        </Menus>\n      </Container>\n    </Wrapper>\n  ) : null;\n};\n\nexport default Header;\n"],"sourceRoot":""}