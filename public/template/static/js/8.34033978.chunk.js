(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[8],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(42),r=n(50),a=n(0),c=n(43),o=n.n(c),d=n(49),s=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],m=a.forwardRef((function(e,t){var n=e.className,c=e.component,m=e.viewBox,p=e.spin,l=e.rotate,h=e.tabIndex,u=e.onClick,g=e.children,b=Object(r.a)(e,s);Object(d.g)(Boolean(c||g),"Should have `component` prop or `children`."),Object(d.f)();var j=o()("anticon",n),f=o()({"anticon-spin":!!p}),x=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,O=Object(i.a)(Object(i.a)({},d.e),{},{className:f,style:x,viewBox:m});m||delete O.viewBox;var v=h;return void 0===v&&u&&(v=-1),a.createElement("span",Object(i.a)(Object(i.a)({role:"img"},b),{},{ref:t,tabIndex:v,onClick:u,className:j}),c?a.createElement(c,Object(i.a)({},O),g):g?(Object(d.g)(Boolean(m)||1===a.Children.count(g)&&a.isValidElement(g)&&"use"===a.Children.only(g).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),a.createElement("svg",Object(i.a)(Object(i.a)({},O),{},{viewBox:m}),g)):null)}));m.displayName="AntdIcon";var p=m,l=["type","children"],h=new Set;function u(e){return Boolean("string"===typeof e&&e.length&&!h.has(e))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t];if(u(n)){var i=document.createElement("script");i.setAttribute("src",n),i.setAttribute("data-namespace",n),e.length>t+1&&(i.onload=function(){g(e,t+1)},i.onerror=function(){g(e,t+1)}),h.add(n),document.body.appendChild(i)}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,n=e.extraCommonProps,c=void 0===n?{}:n;t&&"undefined"!==typeof document&&"undefined"!==typeof window&&"function"===typeof document.createElement&&(Array.isArray(t)?g(t.reverse()):g([t]));var o=a.forwardRef((function(e,t){var n=e.type,o=e.children,d=Object(r.a)(e,l),s=null;return e.type&&(s=a.createElement("use",{xlinkHref:"#".concat(n)})),o&&(s=o),a.createElement(p,Object(i.a)(Object(i.a)(Object(i.a)({},c),d),{},{ref:t}),s)}));return o.displayName="Iconfont",o}},161:function(e,t,n){"use strict";n.r(t);var i,r,a,c,o,d,s,m,p,l,h,u,g,b,j,f,x,O=n(61),v=n.n(O),w=n(62),y=n(64),C=n(0),k=n(12),R=n(3),S=n(46),I=n(47),z=I.a.div(i||(i=Object(S.a)(["\n  ","\n"])),{height:"100vh","--tw-bg-opacity":"1",backgroundColor:"rgba(249, 250, 251, var(--tw-bg-opacity))"}),H=I.a.div(r||(r=Object(S.a)(["\n  ","\n"])),{width:"100%",marginLeft:"auto",marginRight:"auto",height:"100%","@media (min-width: 640px)":{width:"80%",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingTop:"1.5rem"},"@media (min-width: 1536px)":{maxWidth:"1024px"}}),B=I.a.div(a||(a=Object(S.a)(["\n  ","\n"])),{padding:"0.5rem",display:"flex","@media (min-width: 640px)":{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",padding:"0px",gap:"1.75rem",justifyContent:"space-between",alignItems:"center",marginBottom:"2.75rem"}}),L=I.a.div(c||(c=Object(S.a)(["\n  ","\n  img {\n    ","\n  }\n"])),{"@media (min-width: 640px)":{gridColumn:"span 1 / span 1",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},{width:"5rem",height:"5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(229, 231, 235, var(--tw-bg-opacity))",borderRadius:"9999px",flexShrink:"0",objectFit:"cover","@media (min-width: 640px)":{width:"10rem",height:"10rem"}}),T=I.a.div(o||(o=Object(S.a)(["\n  ","\n"])),{paddingLeft:"0.5rem",height:"100%","@media (min-width: 640px)":{gridColumn:"span 2 / span 2",paddingLeft:"0px"}}),E=I.a.div(d||(d=Object(S.a)(["\n  ","\n  >span {\n    ","\n  }\n"])),{display:"flex",alignItems:"center"},{fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"200","@media (min-width: 640px)":{fontSize:"1.875rem",lineHeight:"2.25rem"}}),A=(I.a.div(s||(s=Object(S.a)([""]))),I.a.div(m||(m=Object(S.a)([""]))),I.a.div(p||(p=Object(S.a)(["\n  ","\n  >span {\n    ","\n    &:last-child {\n      ","\n    }\n  }\n  strong {\n    ","\n  }\n"])),{marginTop:"0.25rem",marginBottom:"0.25rem",fontSize:"0.875rem",lineHeight:"1.25rem","@media (min-width: 640px)":{marginTop:"1.25rem",marginBottom:"1.25rem"}},{marginRight:"1rem",fontWeight:"700","@media (min-width: 640px)":{marginRight:"2.5rem"}},{marginRight:"0px"},{fontWeight:"400"})),W=I.a.div(l||(l=Object(S.a)(["\n  ","\n"])),{fontSize:"0.875rem",lineHeight:"1.25rem","@media (min-width: 640px)":{fontSize:"1rem",lineHeight:"1.5rem"}}),F=I.a.div(h||(h=Object(S.a)(["\n  ","\n"])),{borderTopWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(209, 213, 219, var(--tw-border-opacity))",height:"3.5rem",display:"flex",justifyContent:"center",fontSize:"0.875rem",lineHeight:"1.25rem"}),N=I.a.div(u||(u=Object(S.a)(["\n  ","\n  &:last-child {\n    ","\n  }\n  > span {\n    ","\n  }\n"])),{marginRight:"1rem",display:"flex",alignItems:"center",fontSize:"0.875rem",lineHeight:"1.25rem","@media (min-width: 640px)":{marginRight:"5rem"}},{marginRight:"0px"},{fontSize:"1.25rem",lineHeight:"1.75rem",display:"flex",alignItems:"center",marginRight:"0.25rem","@media (min-width: 640px)":{fontSize:"1.5rem",lineHeight:"2rem"}}),D=I.a.div(g||(g=Object(S.a)([""]))),P=I.a.div(b||(b=Object(S.a)(["\n  ","\n"])),{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"0.25rem","@media (min-width: 768px)":{gap:"1.5rem"}}),U=I.a.div(j||(j=Object(S.a)(["\n  ","\n  img {\n    ","\n  }\n"])),{position:"relative","--tw-bg-opacity":"1",backgroundColor:"rgba(147, 197, 253, var(--tw-bg-opacity))",height:"10rem","@media (min-width: 640px)":{height:"18rem"}},{width:"100%",height:"100%",objectFit:"cover"}),_=I.a.div(f||(f=Object(S.a)(["\n  ","\n"])),{position:"absolute",width:"100%",height:"100%",zIndex:"10",display:"none",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"0.5",backgroundColor:"rgba(17, 24, 39, var(--tw-bg-opacity))",".group:hover &":{display:"flex"},":hover":{cursor:"pointer"}}),J=I.a.div(x||(x=Object(S.a)(["\n  ","\n  &:last-child {\n    ","\n  }\n  > span {\n    ","\n  }\n"])),{marginRight:"0.5rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",display:"flex",alignItems:"center",fontSize:"0.875rem",lineHeight:"1.25rem","@media (min-width: 640px)":{fontSize:"1.125rem",lineHeight:"1.75rem"},"@media (min-width: 768px)":{marginRight:"2rem"}},{marginRight:"0px"},{fontSize:"0.875rem",lineHeight:"1.25rem",display:"flex",alignItems:"center",marginRight:"0.5rem","@media (min-width: 640px)":{fontSize:"1.25rem",lineHeight:"1.75rem"}}),V=n(70),q=n(57),G=n(51),M=n(2);t.default=function(){var e,t="/static/",n=Object(k.c)((function(e){return e})),i=Object(R.h)().username,r=Object(C.useState)(null),a=Object(y.a)(r,2),c=a[0],o=a[1],d=Object(C.useState)([]),s=Object(y.a)(d,2),m=s[0],p=s[1],l=Object(C.useState)(""),h=Object(y.a)(l,2),u=h[0],g=h[1];Object(C.useEffect)((function(){(function(){var e=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,G.d(i);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=7,G.c({username:i});case 7:t=e.sent,p(t.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var b=function(){var e=Object(w.a)(v.a.mark((function e(t){var n,r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,r=n.files[0],a=Date.now()+r.name,(c=new FormData).append("name",a),c.append("file",r),e.next=8,G.h(c);case 8:return e.next=10,G.g({username:i,avatar:a});case 10:g(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)(z,{children:[Object(M.jsx)(V.a,{}),Object(M.jsxs)(H,{children:[Object(M.jsxs)(B,{children:[Object(M.jsxs)("label",{htmlFor:"file",children:[Object(M.jsx)(L,{children:Object(M.jsx)("img",{src:u?t+u:t+(null===c||void 0===c?void 0:c.avatar),alt:""})}),(null===n||void 0===n||null===(e=n.user)||void 0===e?void 0:e.username)===(null===c||void 0===c?void 0:c.username)?Object(M.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:"image/*",onChange:function(e){return b(e)}}):null]}),Object(M.jsxs)(T,{children:[Object(M.jsx)(E,{children:Object(M.jsx)("span",{children:null===c||void 0===c?void 0:c.username})}),Object(M.jsxs)(A,{children:[Object(M.jsxs)("span",{children:[m.length,Object(M.jsx)("strong",{children:" \u7bc7\u5e16\u5b50"})]}),Object(M.jsxs)("span",{children:[null===c||void 0===c?void 0:c.followers.length,Object(M.jsx)("strong",{children:" \u7c89\u4e1d"})]}),Object(M.jsxs)("span",{children:[Object(M.jsx)("strong",{children:"\u6b63\u5728\u5173\u6ce8 "})," ",null===c||void 0===c?void 0:c.following.length]})]}),Object(M.jsx)(W,{children:"instagram"})]})]}),Object(M.jsxs)(F,{children:[Object(M.jsxs)(N,{children:[Object(M.jsx)(q.a,{type:"icon-layout3"}),"\u5e16\u5b50"]}),Object(M.jsxs)(N,{children:[Object(M.jsx)(q.a,{type:"icon-tv"}),"IGTV"]}),Object(M.jsxs)(N,{children:[Object(M.jsx)(q.a,{type:"icon-bookmark"}),"\u6536\u85cf\u5939"]}),Object(M.jsxs)(N,{children:[Object(M.jsx)(q.a,{type:"icon-frame"}),"\u5df2\u6807\u8bb0"]})]}),Object(M.jsx)(D,{children:Object(M.jsx)(P,{children:m.map((function(e){return Object(M.jsxs)(U,{className:"group",children:[Object(M.jsxs)(_,{children:[Object(M.jsxs)(J,{children:[Object(M.jsx)(q.a,{type:"icon-heart-white"}),"0"]}),Object(M.jsxs)(J,{children:[Object(M.jsx)(q.a,{type:"icon-chat-white"}),"0"," "]})]}),Object(M.jsx)("img",{src:t+e.photos[0].src,alt:""})]},e._id)}))})})]})]})}},51:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b}));var i=n(66),r=n.n(i),a=n(67),c=n.n(a),o=(n(68),n(18)),d=r.a.create({baseURL:"/api"});d.interceptors.request.use((function(e){c.a.start();var t=Object(o.a)();return t&&(e.headers.authorization=null===t||void 0===t?void 0:t.token),e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){return c.a.done(),null===e||void 0===e?void 0:e.data}),(function(e){return Promise.reject(e)}));var s=function(e){return d.post("/auth/login",e)},m=function(e){return d.post("/auth/register",e)},p=function(e){return d.post("/upload",e)},l=function(e){return d.get("/users/".concat(e))},h=function(e){return d.post("/users/update",e)},u=function(){return d.get("/posts")},g=function(e){return d.post("/posts/create",e)},b=function(e){return d.post("/posts/self",e)}},57:function(e,t,n){"use strict";var i=n(16),r=n(25),a=n(100),c=n(2),o=Object(a.a)({scriptUrl:["//at.alicdn.com/t/font_2765586_syr9956cube.js"]});t.a=function(e){var t=e.type,n=Object(r.a)(e,["type"]);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(o,Object(i.a)({},Object(i.a)(Object(i.a)({},n),{},{type:t})))})}},58:function(e,t,n){"use strict";t.a=n.p+"static/media/defaultAvatar.53189188.png"},70:function(e,t,n){"use strict";n(0);var i,r,a,c,o,d,s,m,p=n(12),l=n(3),h=n(8),u=n(57),g=n(58),b=n(46),j=n(47),f=j.a.div(i||(i=Object(b.a)(["\n  ","\n"])),{height:"3.5rem",width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",position:"sticky",top:"0px","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(243, 244, 246, var(--tw-border-opacity))"}),x=j.a.div(r||(r=Object(b.a)(["\n  ","\n"])),{width:"100%",paddingLeft:"0.5rem",paddingRight:"0.5rem",marginLeft:"auto",marginRight:"auto",height:"100%",display:"flex",alignItems:"center","@media (min-width: 640px)":{paddingLeft:"0px",paddingRight:"0px"},"@media (min-width: 768px)":{width:"80%"},"@media (min-width: 1536px)":{maxWidth:"1024px"}}),O=j.a.img(a||(a=Object(b.a)(["\n  ","\n"])),{objectFit:"contain",height:"2rem"}),v=j.a.div(c||(c=Object(b.a)(["\n  ","\n  >span {\n    ","\n  }\n"])),{display:"none",width:"13rem",marginLeft:"auto",marginRight:"auto",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgba(75, 85, 99, var(--tw-text-opacity))",alignItems:"center",justifyContent:"center",height:"1.75rem","--tw-bg-opacity":"1",backgroundColor:"rgba(249, 250, 251, var(--tw-bg-opacity))",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(209, 213, 219, var(--tw-border-opacity))","@media (min-width: 640px)":{display:"flex"}},{marginRight:"0.5rem"}),w=(j.a.div(o||(o=Object(b.a)([""]))),j.a.div(d||(d=Object(b.a)(["\n  ","\n"])),{position:"fixed",left:"0px",bottom:"0px",width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--tw-bg-opacity))",paddingTop:"0.25rem",paddingBottom:"0.25rem",justifyContent:"space-around",display:"flex",marginLeft:"auto","@media (min-width: 640px)":{paddingTop:"0px",paddingBottom:"0px",width:"auto",justifyContent:"flex-start",position:"relative",marginLeft:"0px"}})),y=j.a.div(s||(s=Object(b.a)(["\n  ","\n  >span {\n    ","\n  }\n"])),{width:"1.5rem",height:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",margin:"0.5rem",":hover":{cursor:"pointer"}},{fontSize:"1.5rem",lineHeight:"2rem"}),C=j.a.img(m||(m=Object(b.a)(["\n  ","\n"])),{width:"1.5rem",height:"1.5rem",borderRadius:"9999px",objectFit:"cover",flexShrink:"0"}),k=n(2);t.a=function(){var e=Object(p.c)((function(e){return e})).user,t=Object(l.g)();return t.location.pathname.includes("share")?null:Object(k.jsx)(f,{children:Object(k.jsxs)(x,{children:[Object(k.jsx)(O,{onClick:function(){return t.push("/")},src:"https://fontmeme.com/permalink/210823/50ff875ad698b68a5204ae465788590a.png"}),Object(k.jsxs)(v,{children:[Object(k.jsx)(u.a,{type:"icon-search"}),"\u641c\u7d22"]}),Object(k.jsxs)(w,{children:[Object(k.jsx)(y,{onClick:function(){return t.push(h.b)},children:Object(k.jsx)(u.a,{type:"icon-home"})}),Object(k.jsx)(y,{onClick:function(){return t.push(h.b)},children:Object(k.jsx)(u.a,{type:"icon-share"})}),Object(k.jsx)(y,{onClick:function(){return t.push(h.f)},children:Object(k.jsx)(u.a,{type:"icon-add"})}),Object(k.jsx)(y,{onClick:function(){return t.push(h.b)},children:Object(k.jsx)(u.a,{type:"icon-heart"})}),Object(k.jsx)(y,{onClick:function(){return t.push("/p/"+e.username)},children:Object(k.jsx)(C,{src:e.avatar||g.a})})]})]})})}}}]);
//# sourceMappingURL=8.34033978.chunk.js.map